<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saisie Technique 2025</title>

<style>
:root { --blue:#1a73e8; --green:#1e8e3e; }
body {
  font-family: Roboto, sans-serif;
  background:#f8f9fa;
  margin:0; padding:10px;
}
.container {
  max-width:950px; margin:auto;
  background:#fff;
  border-radius:12px;
  box-shadow:0 4px 20px rgba(0,0,0,.1);
}
.header { background:var(--blue); color:#fff; padding:20px; text-align:center; }
.tabs { display:flex; }
.tab-btn {
  flex:1; padding:14px; border:none;
  background:#f1f3f4; cursor:pointer;
  font-weight:bold;
}
.tab-btn.active {
  background:#fff;
  border-bottom:4px solid var(--blue);
  color:var(--blue);
}
form { padding:20px; }
.section {
  margin-bottom:25px;
  border:1px solid #ddd;
  border-radius:8px;
  padding:15px;
}
.section-title {
  color:var(--blue);
  font-weight:bold;
  margin-bottom:10px;
  display:block;
}
.grid {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
  gap:12px;
}
label { font-size:11px; font-weight:bold; }
input {
  padding:8px;
  border:1px solid #ccc;
  border-radius:4px;
}
.submit-btn {
  width:100%;
  padding:16px;
  background:var(--green);
  color:#fff;
  border:none;
  border-radius:8px;
  font-size:1.1rem;
  font-weight:bold;
  cursor:pointer;
}
#status {
  display:none;
  margin-top:15px;
  padding:12px;
  text-align:center;
  border-radius:6px;
  font-weight:bold;
}
</style>
</head>

<body>

<div class="container">
  <div class="header">
    <h3>ğŸ“Š Registre Physico-Chimique 2025</h3>
  </div>

  <div class="tabs">
    <button class="tab-btn active" onclick="setSheet('Brutes',this)">ğŸ’§ Eaux Brutes</button>
    <button class="tab-btn" onclick="setSheet('Traitees',this)">ğŸ§ª Eaux TraitÃ©es</button>
  </div>

<form id="mainForm">
<input type="hidden" id="sheetInput" value="Brutes">

<!-- 1 Identification -->
<div class="section">
<span class="section-title">1. Identification</span>
<div class="grid">
<input name="Numero" placeholder="NumÃ©ro" required>
<input name="Point_prelevement" placeholder="Point de prÃ©lÃ¨vement">
<input name="Centre" placeholder="Centre">
<input name="Communes" placeholder="Communes">
<input type="date" name="Date">
</div>
</div>

<!-- 2 Structure -->
<div class="section">
<span class="section-title">2. Structure de l'eau</span>
<div class="grid">
<input name="Couleur" placeholder="Couleur">
<input type="number" step="0.01" name="Temp" placeholder="Temp">
<input type="number" step="0.01" name="Cond" placeholder="Cond">
<input type="number" step="0.01" name="Salinite" placeholder="SalinitÃ©">
<input type="number" step="0.01" name="TDS">
<input type="number" step="0.01" name="Turbidite">
<input type="number" step="0.01" name="pH">
<input type="number" step="0.01" name="RS">
<input type="number" step="0.01" name="MO">
</div>
</div>

<!-- 3 Chimie -->
<div class="section">
<span class="section-title">3. Chimie & Micropolluants</span>
<div class="grid">
<input type="number" step="0.01" name="Calcium">
<input type="number" step="0.01" name="Durete_T">
<input type="number" step="0.01" name="Magnesium">
<input type="number" step="0.01" name="Sodium">
<input type="number" step="0.01" name="Potassium">
<input type="number" step="0.01" name="Ammonium">
<input type="number" step="0.01" name="Nitrites">
<input type="number" step="0.01" name="Nitrates">
<input type="number" step="0.01" name="Phosphates">
<input type="number" step="0.01" name="Chlorures">
<input type="number" step="0.01" name="Alcalinite">
<input type="number" step="0.01" name="Bicarbonate">
<input type="number" step="0.01" name="Sulfates">
<input type="number" step="0.01" name="Fer_total">
<input type="number" step="0.01" name="Manganese">
<input type="number" step="0.01" name="Aluminium">
</div>
</div>

<button class="submit-btn">Enregistrer</button>
<div id="status"></div>
</form>
</div>

<script>
const API_URL = "https://sheetdb.io/api/v1/ID_HIDDEN"; // Ø¶Ø¹ ID Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù‡Ù†Ø§

function setSheet(name,btn){
  document.getElementById("sheetInput").value=name;
  document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
}

document.getElementById("mainForm").addEventListener("submit",async e=>{
  e.preventDefault();
  const status=document.getElementById("status");
  status.style.display="block";
  status.style.background="#e8f0fe";
  status.textContent="â³ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...";

  const formData=new FormData(e.target);
  const data=Object.fromEntries(formData.entries());

  try{
    const res=await fetch(API_URL+"?sheet="+document.getElementById("sheetInput").value,{
      method:"POST",
      headers:{
        "Content-Type":"application/json"
        // "Authorization":"Bearer YOUR_TOKEN" â† Ø¥Ø°Ø§ Ù…ÙØ¹Ù„
      },
      body:JSON.stringify({ data:[data] })
    });

    if(!res.ok) throw new Error();
    status.style.background="#e6f4ea";
    status.textContent="âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­";
    e.target.reset();
  }catch{
    status.style.background="#fce8e6";
    status.textContent="âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„";
  }
});
</script>

</body>
</html>
